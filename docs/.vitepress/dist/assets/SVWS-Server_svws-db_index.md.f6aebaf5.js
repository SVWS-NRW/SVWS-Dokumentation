import{_ as e,y as n,x as r,W as t}from"./plugin-vue_export-helper.68280688.js";var i="/assets/Uebersicht-REST-Server-06.471470da.png";const k='{"title":"SVWS-Datenbankstrukturen","description":"","frontmatter":{},"headers":[{"level":2,"title":"\xDCbersicht Datenbankfunktionen","slug":"ubersicht-datenbankfunktionen"},{"level":2,"title":"Das Projekt SVWS-DB","slug":"das-projekt-svws-db"},{"level":2,"title":"Einbindung der Statistikdaten von IT.NRW","slug":"einbindung-der-statistikdaten-von-it-nrw"},{"level":2,"title":"Modernisierung der Tabellenstrukturen","slug":"modernisierung-der-tabellenstrukturen"},{"level":2,"title":"Rechtesystem und Benutzerf\xFChrung in der Datenbanksoftware","slug":"rechtesystem-und-benutzerfuhrung-in-der-datenbanksoftware"}],"relativePath":"SVWS-Server/svws-db/index.md","lastUpdated":1649313796388}',a={},s=t('<h1 id="svws-datenbankstrukturen" tabindex="-1">SVWS-Datenbankstrukturen <a class="header-anchor" href="#svws-datenbankstrukturen" aria-hidden="true">#</a></h1><h2 id="ubersicht-datenbankfunktionen" tabindex="-1">\xDCbersicht Datenbankfunktionen <a class="header-anchor" href="#ubersicht-datenbankfunktionen" aria-hidden="true">#</a></h2><p><img src="'+i+'" alt="\xDCbersicht-REST-Server-06"></p><h2 id="das-projekt-svws-db" tabindex="-1">Das Projekt SVWS-DB <a class="header-anchor" href="#das-projekt-svws-db" aria-hidden="true">#</a></h2><p>In diesem Projekt werden in der \xDCbergangsphase von Schild-NRW-3.0 die Datenbank-Scripte erzeugt. Das bedeutet, dass s\xE4mtliche Tabellen-Strukturen \xFCber die CSV-Dateien festgehalten wird. Zus\xE4tzlich werden hier alle Default-Daten in den Tabellen gepflegt. Dazu geh\xF6ren die Statkue-, Schildintern, Schulver- und impexp-Tabellen. Die Defaultdaten werden teilweise von IT-NRW bereit gestellt, so dass diese eingepflegt werden m\xFCssen. Die momentan in der Entwicklung befindlichen Scripte k\xF6nnen hier heruntergeladen werden:</p><p><a href="https://github.com/SVWS-NRW/SVWS-DB-Scripte" target="_blank" rel="noopener noreferrer">https://github.com/SVWS-NRW/SVWS-DB-Scripte</a></p><p>Die Verwendung f\xFCr Schild-NRW-2.0-Datenbanken ist nicht zu empfehlen, auch, wenn das \xFCber die Abschaltung von Case-Sensitiven-Tabellennamen m\xF6glich ist. Mit diesen Scripten kann \xFCber ein SQL-Tool eine Schild-NRW-3.0-Datenstruktur erzeut werden. Es kann sogar mit dem Migrationstool von Schild-NRW-2.0 in eine solche Datenbank migriert werden, so dass Schild-NRW-3.0 betrieben werden kann. Diese Arbeiten werden aber zuk\xFCnftig vom SVWS-Server erledigt!</p><p>Ziel ist es, dass Schild-NRW nur noch in einer \xDCbergangsphase auf die Datenbank direkt zugreifen kann. Der SVWS-Server wird alle diese Zugriffe perspektivisch \xFCbernehmen, so dass die Daten nur noch \xFCber die OpenAPI ver\xE4ndert werden k\xF6nnen. Daf\xFCr werden entsprechende Services geschrieben, die dann fest stehende und dokumentierte Endpunkte schaffen.</p><p>Eine Verschl\xFCsselung ist auf Datenbankebene zun\xE4chst nicht vorgesehen, die Daten werden \xFCber die Sicherheitsrichtlinien des Betriebssystem geregelt. Bei h\xF6heren Sicherheitsansp\xFCchen kann der SVWS-Server sp\xE4ter in Rechenzentren auch in verschl\xFCsselten Containern ausgef\xFChrt werden. Dies sollte das Ziel f\xFCr gr\xF6\xDFere Kommunale-Umgebungen sein.</p><h2 id="einbindung-der-statistikdaten-von-it-nrw" tabindex="-1">Einbindung der Statistikdaten von IT.NRW <a class="header-anchor" href="#einbindung-der-statistikdaten-von-it-nrw" aria-hidden="true">#</a></h2><p>F\xFCr das SVWS-Server-Projekt ist es wichtig, dass alle Daten direkt statistikkonform gespeichert werden oder auf die Tabellen von IT-NRW gemapped werden k\xF6nnen. Dazu wurde die Entscheidung getroffen, alle verwendeten Tabellen der Schulver.mdb, STakue.mdb und dann direkt auch der Schildintern.mdb und der ImpExp.mdb in das Datenbankschema einzubinden. Dadurch l\xF6st sich das Projekt von der Verwendung von Access-Datenbanken, schafft eine h\xF6here Performance und b\xFCndelt die zu erledigenden Aktualisierungen im Repository, so dass \xC4nderungen auch \xFCber DIFFs zur\xFCck verfolgt werden k\xF6nnen.</p><p>Ein MDB-Genarator wird in der \xDCbergangsphase die Keytabs MDBs f\xFCr Schild2.0 erzeugen. So m\xFCssen die Defaultdaten von IT.nicht doppelt gepflegt werden m\xFCssen. Die vom Projekt erzeugten MDBs sind seit dem Update Schlild-NRW2.0.24.2 in Verwendung! Eine Beschreibung, wie bestimmte Tabellen aktualisiert werden m\xFCssen gibt es an dieser Stelle, au\xDFerdem wird hier beschrieben warum und wie von den Tabellen von IT.NRW abgewichen wurde und wie das gepflegt werden sollte:</p><h2 id="modernisierung-der-tabellenstrukturen" tabindex="-1">Modernisierung der Tabellenstrukturen <a class="header-anchor" href="#modernisierung-der-tabellenstrukturen" aria-hidden="true">#</a></h2><p>Ziel des Datenbankprojekts soll es sein, alle ben\xF6tigten Informationen atomar und in normalisierter Form dargestellt werden. Dazu werden zun\xE4chst die bestehenden Strukturen \xFCbernommen und dann schrittweise dem Ziel zugef\xFChrt. Die Diskussion \xFCber diese Vorgehensweise zeigt, dass dieser Weg kompliziert und Fehleranf\xE4llig ist, da f\xFCr Schild-NRW3.0 unter Umst\xE4nden die alten Strukture (ggf. \xFCber Views) noch ben\xF6tigen wird. Fest steht jedenfalls, dass redundate Stellen, nicht mehr verwendete Felder und Verletzungen der atomaren und normalisierten Speicherung sukzessiv abgestellt werden m\xFCssen.</p><h2 id="rechtesystem-und-benutzerfuhrung-in-der-datenbanksoftware" tabindex="-1">Rechtesystem und Benutzerf\xFChrung in der Datenbanksoftware <a class="header-anchor" href="#rechtesystem-und-benutzerfuhrung-in-der-datenbanksoftware" aria-hidden="true">#</a></h2><p>Als Default-DBMS wird MariDB empfohlen. F\xFCr die Schild-Zentral-Nachfolge wird aber weiterhin MS-SQL-Server unterst\xFCtzt.</p><p>In beiden System kann der root oder sa Zugang f\xFCr administrative Zwecke verwendet werden. Diese Zug\xE4nge sollten ausschlie\xDFlich dem DBMS-Administrator zur Verf\xFCgung stehen. Wahlweise k\xF6nnen hier auch Zug\xE4nge mit Schema-\xFCbergreifenden Rechten f\xFCr Administratoren angelegt werden.</p><p>Bei Installationen f\xFCr einzelne Schulen dient dieser Zugang ausschlie\xDFlich der Schama-Verwaltung, falls es gew\xFCnscht ist, zwei oder mehr Schemata zu Testzwecken oder bei Schulverb\xFCnden zu nutzen. Es wird f\xFCr den Zugriff auf die Daten im Client trotzdem ein Datenbankuser angelegt, der nur Berechtigungen auf das Schema hat!</p><p>In gr\xF6\xDFeren System, in denen mehrere Schulen auf einem Datenbankserver betrieben werdne, wird f\xFCr jede Schule ein Datenbankuser nur mit Rechten auf die jeweiligen Schemata der einzelnen Schule angelegt! So dass schon allein auf DBMS-Ebene kein Zugriff von einer Schule auf eine andere erfolgen kann.</p>',19),d=[s];function u(l,h,c,o,g,b){return r(),n("div",null,d)}var f=e(a,[["render",u]]);export{k as __pageData,f as default};
