<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SVWS-Datenbankstrukturen | SVWS Dokumentation</title>
    <meta name="description" content="Just playing around.">
    <link rel="stylesheet" href="/assets/style.2759ba08.css">
    <link rel="modulepreload" href="/assets/plugin-vue_export-helper.68280688.js">
    <link rel="modulepreload" href="/assets/Home.95c605b2.js">
    <link rel="modulepreload" href="/assets/SVWS-Server_svws-db_index.md.f6aebaf5.lean.js">
    <link rel="modulepreload" href="/assets/app.7749d780.js">
    
    <meta name="twitter:title" content="SVWS-Datenbankstrukturen | SVWS Dokumentation">
  <meta property="og:title" content="SVWS-Datenbankstrukturen | SVWS Dokumentation">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="SVWS Dokumentation, back to home" data-v-675d8756 data-v-4a583abe><!----> SVWS Dokumentation</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><!----></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><!----><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Entwicklungsumgebungen</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/Entwicklungsumgebungen/Eclipse-Ubuntu/">Eclipse-Ubuntu</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/Entwicklungsumgebungen/Eclipse-Windows/">Eclipse-Windows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/Entwicklungsumgebungen/Eclipse-Windows_im_MSB/">Eclipse-Windows_im_MSB</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/Entwicklungsumgebungen/Multipass/">Multipass</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/Entwicklungsumgebungen/VS-Code/">VS-Code</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/Entwicklungsumgebungen/macOS/">macOS</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/Gitlab-Server/">Gitlab-Server</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/Lizenz-Informationen/">Lizenz-Informationen</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/Reporting/">Reporting</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/SVWS-Client/">SVWS-Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/SVWS-Installer/">SVWS-Installer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/SVWS-Server/">SVWS-Server</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/SVWS-Server/svws-db/">svws-db</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#ubersicht-datenbankfunktionen">Übersicht Datenbankfunktionen</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#das-projekt-svws-db">Das Projekt SVWS-DB</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#einbindung-der-statistikdaten-von-it-nrw">Einbindung der Statistikdaten von IT.NRW</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#modernisierung-der-tabellenstrukturen">Modernisierung der Tabellenstrukturen</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#rechtesystem-und-benutzerfuhrung-in-der-datenbanksoftware">Rechtesystem und Benutzerführung in der Datenbanksoftware</a><!----></li></ul></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/SVWS-Server-Installationen/">SVWS-Server-Installationen</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/SVWS-UI-Framework/">SVWS-UI-Framework</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="svws-datenbankstrukturen" tabindex="-1">SVWS-Datenbankstrukturen <a class="header-anchor" href="#svws-datenbankstrukturen" aria-hidden="true">#</a></h1><h2 id="ubersicht-datenbankfunktionen" tabindex="-1">Übersicht Datenbankfunktionen <a class="header-anchor" href="#ubersicht-datenbankfunktionen" aria-hidden="true">#</a></h2><p><img src="/assets/Uebersicht-REST-Server-06.471470da.png" alt="Übersicht-REST-Server-06"></p><h2 id="das-projekt-svws-db" tabindex="-1">Das Projekt SVWS-DB <a class="header-anchor" href="#das-projekt-svws-db" aria-hidden="true">#</a></h2><p>In diesem Projekt werden in der Übergangsphase von Schild-NRW-3.0 die Datenbank-Scripte erzeugt. Das bedeutet, dass sämtliche Tabellen-Strukturen über die CSV-Dateien festgehalten wird. Zusätzlich werden hier alle Default-Daten in den Tabellen gepflegt. Dazu gehören die Statkue-, Schildintern, Schulver- und impexp-Tabellen. Die Defaultdaten werden teilweise von IT-NRW bereit gestellt, so dass diese eingepflegt werden müssen. Die momentan in der Entwicklung befindlichen Scripte können hier heruntergeladen werden:</p><p><a href="https://github.com/SVWS-NRW/SVWS-DB-Scripte" target="_blank" rel="noopener noreferrer">https://github.com/SVWS-NRW/SVWS-DB-Scripte</a></p><p>Die Verwendung für Schild-NRW-2.0-Datenbanken ist nicht zu empfehlen, auch, wenn das über die Abschaltung von Case-Sensitiven-Tabellennamen möglich ist. Mit diesen Scripten kann über ein SQL-Tool eine Schild-NRW-3.0-Datenstruktur erzeut werden. Es kann sogar mit dem Migrationstool von Schild-NRW-2.0 in eine solche Datenbank migriert werden, so dass Schild-NRW-3.0 betrieben werden kann. Diese Arbeiten werden aber zukünftig vom SVWS-Server erledigt!</p><p>Ziel ist es, dass Schild-NRW nur noch in einer Übergangsphase auf die Datenbank direkt zugreifen kann. Der SVWS-Server wird alle diese Zugriffe perspektivisch übernehmen, so dass die Daten nur noch über die OpenAPI verändert werden können. Dafür werden entsprechende Services geschrieben, die dann fest stehende und dokumentierte Endpunkte schaffen.</p><p>Eine Verschlüsselung ist auf Datenbankebene zunächst nicht vorgesehen, die Daten werden über die Sicherheitsrichtlinien des Betriebssystem geregelt. Bei höheren Sicherheitsanspüchen kann der SVWS-Server später in Rechenzentren auch in verschlüsselten Containern ausgeführt werden. Dies sollte das Ziel für größere Kommunale-Umgebungen sein.</p><h2 id="einbindung-der-statistikdaten-von-it-nrw" tabindex="-1">Einbindung der Statistikdaten von IT.NRW <a class="header-anchor" href="#einbindung-der-statistikdaten-von-it-nrw" aria-hidden="true">#</a></h2><p>Für das SVWS-Server-Projekt ist es wichtig, dass alle Daten direkt statistikkonform gespeichert werden oder auf die Tabellen von IT-NRW gemapped werden können. Dazu wurde die Entscheidung getroffen, alle verwendeten Tabellen der Schulver.mdb, STakue.mdb und dann direkt auch der Schildintern.mdb und der ImpExp.mdb in das Datenbankschema einzubinden. Dadurch löst sich das Projekt von der Verwendung von Access-Datenbanken, schafft eine höhere Performance und bündelt die zu erledigenden Aktualisierungen im Repository, so dass Änderungen auch über DIFFs zurück verfolgt werden können.</p><p>Ein MDB-Genarator wird in der Übergangsphase die Keytabs MDBs für Schild2.0 erzeugen. So müssen die Defaultdaten von IT.nicht doppelt gepflegt werden müssen. Die vom Projekt erzeugten MDBs sind seit dem Update Schlild-NRW2.0.24.2 in Verwendung! Eine Beschreibung, wie bestimmte Tabellen aktualisiert werden müssen gibt es an dieser Stelle, außerdem wird hier beschrieben warum und wie von den Tabellen von IT.NRW abgewichen wurde und wie das gepflegt werden sollte:</p><h2 id="modernisierung-der-tabellenstrukturen" tabindex="-1">Modernisierung der Tabellenstrukturen <a class="header-anchor" href="#modernisierung-der-tabellenstrukturen" aria-hidden="true">#</a></h2><p>Ziel des Datenbankprojekts soll es sein, alle benötigten Informationen atomar und in normalisierter Form dargestellt werden. Dazu werden zunächst die bestehenden Strukturen übernommen und dann schrittweise dem Ziel zugeführt. Die Diskussion über diese Vorgehensweise zeigt, dass dieser Weg kompliziert und Fehleranfällig ist, da für Schild-NRW3.0 unter Umständen die alten Strukture (ggf. über Views) noch benötigen wird. Fest steht jedenfalls, dass redundate Stellen, nicht mehr verwendete Felder und Verletzungen der atomaren und normalisierten Speicherung sukzessiv abgestellt werden müssen.</p><h2 id="rechtesystem-und-benutzerfuhrung-in-der-datenbanksoftware" tabindex="-1">Rechtesystem und Benutzerführung in der Datenbanksoftware <a class="header-anchor" href="#rechtesystem-und-benutzerfuhrung-in-der-datenbanksoftware" aria-hidden="true">#</a></h2><p>Als Default-DBMS wird MariDB empfohlen. Für die Schild-Zentral-Nachfolge wird aber weiterhin MS-SQL-Server unterstützt.</p><p>In beiden System kann der root oder sa Zugang für administrative Zwecke verwendet werden. Diese Zugänge sollten ausschließlich dem DBMS-Administrator zur Verfügung stehen. Wahlweise können hier auch Zugänge mit Schema-übergreifenden Rechten für Administratoren angelegt werden.</p><p>Bei Installationen für einzelne Schulen dient dieser Zugang ausschließlich der Schama-Verwaltung, falls es gewünscht ist, zwei oder mehr Schemata zu Testzwecken oder bei Schulverbünden zu nutzen. Es wird für den Zugriff auf die Daten im Client trotzdem ein Datenbankuser angelegt, der nur Berechtigungen auf das Schema hat!</p><p>In größeren System, in denen mehrere Schulen auf einem Datenbankserver betrieben werdne, wird für jede Schule ein Datenbankuser nur mit Rechten auf die jeweiligen Schemata der einzelnen Schule angelegt! So dass schon allein auf DBMS-Ebene kein Zugriff von einer Schule auf eine andere erfolgen kann.</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/SVWS-Server/" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>SVWS-Server</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/SVWS-Server-Installationen/" data-v-38ede35f><span class="text" data-v-38ede35f>SVWS-Server-Installationen</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"algorithmen_blockungs-algorithmus_blockungsalgorithmen.md\":\"750e485a\",\"algorithmen_gs_index.md\":\"f7fc9582\",\"entwicklungsumgebungen_eclipse-ubuntu_index.md\":\"9a2997d1\",\"entwicklungsumgebungen_eclipse-windows_index.md\":\"665f342c\",\"entwicklungsumgebungen_eclipse-windows_im_msb_index.md\":\"8808b28b\",\"entwicklungsumgebungen_intellij_index.md\":\"ea713a62\",\"entwicklungsumgebungen_multipass_index.md\":\"b928d8e0\",\"entwicklungsumgebungen_vs-code_index.md\":\"7bae4f16\",\"entwicklungsumgebungen_macos_index.md\":\"6b4e03c0\",\"entwicklungsumgebungen_übersicht_index.md\":\"578ffb2c\",\"faq.md\":\"c2122441\",\"gitlab-server_installation.md\":\"51f99452\",\"gitlab-server_workflow.md\":\"a980b2ed\",\"gitlab-server_index.md\":\"5d9dd5d4\",\"lizenz-informationen_index.md\":\"c6609a8f\",\"projektanforderungen.md\":\"1cc1494e\",\"reporting_index.md\":\"09653467\",\"svws-client_favicon.md\":\"3d012817\",\"svws-client_mitarbeit.md\":\"222a9d2f\",\"svws-client_notenmanager.md\":\"161f97a2\",\"svws-client_wenom.md\":\"151f8167\",\"svws-client_index.md\":\"d393954c\",\"svws-installer_index.md\":\"71d1249c\",\"svws-server-installationen_001_deployment.md\":\"b29438ad\",\"svws-server-installationen_002_installation_svws-server.md\":\"ec73b568\",\"svws-server-installationen_003_update_svws-server.md\":\"53af54e6\",\"svws-server-installationen_004_datenbank_schemata_einfügen.md\":\"1ce1554e\",\"svws-server-installationen_it-umgebung_einrichtung_portfreigabe.md\":\"d20475eb\",\"svws-server-installationen_it-umgebung_einrichtung_proxmox-container.md\":\"bb66d962\",\"svws-server-installationen_it-umgebung_installation_reverseproxy-server.md\":\"7c8d3c36\",\"svws-server-installationen_it-umgebung_installation_vpn-server.md\":\"c70544e5\",\"svws-server-installationen_index.md\":\"a5b6b730\",\"svws-server-installationen_scripts_install-svws-from-scratch.md\":\"67789963\",\"svws-server_index.md\":\"695e8a82\",\"svws-server_svws-base_readme.md\":\"6fd0e715\",\"svws-server_svws-base_schemacsvstatkue_schulver_einlesen.md\":\"f462637e\",\"svws-server_svws-base_schemacsvstatkue_statkue_datumswerte.md\":\"84b7cedc\",\"svws-server_svws-base_schemacsvstatkue_statkue_fachklassen.md\":\"301f257b\",\"svws-server_svws-core-ts_readme.md\":\"71e0be90\",\"svws-server_svws-core_readme.md\":\"f516ebd2\",\"svws-server_svws-db-utils_readme.md\":\"86b12d5c\",\"svws-server_svws-db_tabellenbeschreibung.md\":\"859fafc4\",\"svws-server_svws-db_index.md\":\"f6aebaf5\",\"svws-server_svws-openapi-ts_readme.md\":\"1f782ed6\",\"svws-server_svws-openapi_readme.md\":\"613d2243\",\"svws-server_svws-server-app_readme.md\":\"63e7e55a\",\"svws-server_svws-transpile_readme.md\":\"98867224\",\"svws-ui-framework_bedienkonzept.md\":\"28acd4bb\",\"svws-ui-framework_gui-auswahl.md\":\"e805c73b\",\"svws-ui-framework_styleguide.md\":\"29c7814b\",\"svws-ui-framework_index.md\":\"d4eebd1f\",\"teamordner_tagesordnung_2021_21_03.md\":\"57e27933\",\"index.md\":\"d40d7ea1\"}")</script>
    <script type="module" async src="/assets/app.7749d780.js"></script>
    
  </body>
</html>